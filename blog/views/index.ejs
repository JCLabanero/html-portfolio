<%- include("partials/head.ejs") %>

<main>
    <header>
        <h1>
            UBlog
        </h1>
    </header>
    <% if (locals.posts) { %>
        <% for( let index = 0; index < posts.length; index++ ) { %>
            <form action="/post" method="post" class="post">
                <hr>
                <h1 class="title"><%= posts[index].title %></h1>
                <h6 class="subtitle"><p class="date"><%= posts[index].date %></p> by <p class="name"><%= posts[index].name %></p></h6>
                <p class="content"><%= posts[index].content %></p>
                <input type="submit" name="mode" value="Update" class="btn btn-primary">
                <input type="submit" name="mode" value="Delete" class="btn btn-danger">
                <input type="text" name="index" value="<%= index %>" hidden>
            </form>
        <% } %>
    <% } %>
    <div class="create-parent">
        <form action="/post" method="post" class="form-floating">
            <input type="text" name="mode" id="mode" value="create" hidden>
            <input type="submit" value="Create new Post" class="btn btn-primary">
        </form>
    </div>
</main>

<%- include("partials/foot.ejs") %>